%% Saving plots which demonstrate the effect frame averaging has on formation time and noise reduction

Num_Frames = [1,2,3,4,5,10,15,20,25,30,40,50,60,70,80,90,100];

time_img_form = [5.81, 5.91, 5.70, 5.99, 5.74,...
                 6.08, 6.87, 7.63, 9.10,...
                 10.75, 14.28, 19.11, 24.74,...
                 31.64, 43.57, 56.74, 68.43];

Noise_Rd = [100, 70.71, 57.74, 50, 44.72,...
            31.62, 25.82, 22.36, 20,...
            18.26, 15.81, 14.14, 12.91,...
            11.95, 11.18, 10.54, 10];

figure
plot(Num_Frames,time_img_form, 'k',...
'LineWidth', 2,...
'Marker', '.',...
'MarkerIndices', 1:length(Num_Frames),...
'MarkerEdgeColor', 'r',...
'MarkerFaceColor', 'r',...
'MarkerSize', 16)
title('Image formation time')
xlabel('Number of frames averaged')
ylabel('Time (s)')

set(gca,...
    'FontName', 'Arial',...
    'FontSize', 11,...
    'FontWeight','bold')
    
set(gca,'LooseInset', max(get(gca,'TightInset'), 0.1))

grid on
grid minor
ax = gca;
ax.TickDir = 'both';

figure
plot(Num_Frames, Noise_Rd, 'k',...
'LineWidth', 2,...
'Marker', '.',...
'MarkerIndices', 1:length(Num_Frames),...
'MarkerEdgeColor', 'r',...
'MarkerFaceColor', 'r',...
'MarkerSize', 16) 
title('Reduction of random noise')
xlabel('Number of frames averaged')
ylabel('% of original noise remaining')
ytickformat('percentage')
ylim([0 100])

set(gca,...
    'FontName', 'Arial',...
    'FontSize', 11,...
    'FontWeight','bold')
    
set(gca,'LooseInset', max(get(gca,'TightInset'), 0.1))

grid on
grid minor
ax = gca;
ax.TickDir = 'both';

